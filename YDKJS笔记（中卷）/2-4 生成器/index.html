<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>生成器 | yams</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/blog/logo.ico">
    <link rel="alternate" type="application/atom+xml" href="https://melogra.github.io/blog/atom.xml" title="yams Atom Feed">
    <link rel="alternate" type="application/json" href="https://melogra.github.io/blog/feed.json" title="yams JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://melogra.github.io/blog/rss.xml" title="yams RSS Feed">
    <link rel="manifest" href="/blog/manifest.webmanifest" crossorigin="use-credentials">
    <meta name="description" content="记录些笔记、写点文章">
    <meta property="og:url" content="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8.html">
    <meta property="og:site_name" content="yams">
    <meta property="og:title" content="生成器">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en-US">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="yams">
    <meta name="theme-color" content="#46bd87">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/blog/assets/css/0.styles.03982947.css" as="style"><link rel="preload" href="/blog/assets/js/app.79f116af.js" as="script"><link rel="preload" href="/blog/assets/js/vendors~layout-Layout.8c2cbbba.js" as="script"><link rel="preload" href="/blog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.1c0cc028.js" as="script"><link rel="preload" href="/blog/assets/js/page-生成器.a732c841.js" as="script"><link rel="preload" href="/blog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.abaae08c.js" as="script"><link rel="prefetch" href="/blog/assets/js/100.6953d3b1.js"><link rel="prefetch" href="/blog/assets/js/97.466ba357.js"><link rel="prefetch" href="/blog/assets/js/98.9a6f37fb.js"><link rel="prefetch" href="/blog/assets/js/99.ee350fc0.js"><link rel="prefetch" href="/blog/assets/js/layout-Blog.7f400b59.js"><link rel="prefetch" href="/blog/assets/js/layout-Layout.196029ba.js"><link rel="prefetch" href="/blog/assets/js/layout-NotFound.f2c22223.js"><link rel="prefetch" href="/blog/assets/js/layout-Slide.4115f912.js"><link rel="prefetch" href="/blog/assets/js/page--002ed876.4bb44440.js"><link rel="prefetch" href="/blog/assets/js/page--04eae565.b792e571.js"><link rel="prefetch" href="/blog/assets/js/page--0d538476.f53d0362.js"><link rel="prefetch" href="/blog/assets/js/page--12629348.4528d88c.js"><link rel="prefetch" href="/blog/assets/js/page--1d7a7df4.feafedae.js"><link rel="prefetch" href="/blog/assets/js/page--1dfb0404.e6d6238d.js"><link rel="prefetch" href="/blog/assets/js/page--279462f4.71f59ecb.js"><link rel="prefetch" href="/blog/assets/js/page--3238bd69.266e6eee.js"><link rel="prefetch" href="/blog/assets/js/page--3d35b0b4.5626b7f4.js"><link rel="prefetch" href="/blog/assets/js/page--3e1c6620.944f8680.js"><link rel="prefetch" href="/blog/assets/js/page--3e820239.42b48335.js"><link rel="prefetch" href="/blog/assets/js/page--49475190.a7524cc4.js"><link rel="prefetch" href="/blog/assets/js/page--4ae3e825.1415cccf.js"><link rel="prefetch" href="/blog/assets/js/page--4f0b1788.9e40ec2a.js"><link rel="prefetch" href="/blog/assets/js/page--56158492.ca728f29.js"><link rel="prefetch" href="/blog/assets/js/page--5bfbb8e2.016e4207.js"><link rel="prefetch" href="/blog/assets/js/page--713b5b8f.5772e9a1.js"><link rel="prefetch" href="/blog/assets/js/page--71dd4d7c.e51c04b0.js"><link rel="prefetch" href="/blog/assets/js/page--734bba64.4e8adb71.js"><link rel="prefetch" href="/blog/assets/js/page--73b6552a.6592e742.js"><link rel="prefetch" href="/blog/assets/js/page--75d9a56a.2c5a72cb.js"><link rel="prefetch" href="/blog/assets/js/page--769fba07.ef236ae8.js"><link rel="prefetch" href="/blog/assets/js/page--7b7b7871.3087d6a5.js"><link rel="prefetch" href="/blog/assets/js/page--8ae5e074.1d65327e.js"><link rel="prefetch" href="/blog/assets/js/page--8ceb193e.6be97d18.js"><link rel="prefetch" href="/blog/assets/js/page--c5e88efc.b8d57d18.js"><link rel="prefetch" href="/blog/assets/js/page--d5e363e8.a090eae8.js"><link rel="prefetch" href="/blog/assets/js/page--e0227e4c.635b8cb4.js"><link rel="prefetch" href="/blog/assets/js/page--f45b73ce.47bb02b8.js"><link rel="prefetch" href="/blog/assets/js/page--f6a40dec.fa60de74.js"><link rel="prefetch" href="/blog/assets/js/page-ES6+.f2183346.js"><link rel="prefetch" href="/blog/assets/js/page-ES现在与未来.e99a3d37.js"><link rel="prefetch" href="/blog/assets/js/page-Home.bae9ecae.js"><link rel="prefetch" href="/blog/assets/js/page-MIPS汇编入门.c7911d5b.js"><link rel="prefetch" href="/blog/assets/js/page-Promise.f910ba5f.js"><link rel="prefetch" href="/blog/assets/js/page-asynquence库.7e60c3a3.js"><link rel="prefetch" href="/blog/assets/js/page-n皇后问题.1bb28ab1.js"><link rel="prefetch" href="/blog/assets/js/page-this概览.3c48ce0f.js"><link rel="prefetch" href="/blog/assets/js/page-this详解.668300a9.js"><link rel="prefetch" href="/blog/assets/js/page-什么是计算机.c7f27275.js"><link rel="prefetch" href="/blog/assets/js/page-代码组织.7885d4d1.js"><link rel="prefetch" href="/blog/assets/js/page-作用域与编译器.1d5954e9.js"><link rel="prefetch" href="/blog/assets/js/page-作用域与闭包.51a9cac9.js"><link rel="prefetch" href="/blog/assets/js/page-值.fa965520.js"><link rel="prefetch" href="/blog/assets/js/page-元编程.97eb925e.js"><link rel="prefetch" href="/blog/assets/js/page-函数作用域与块作用域.b22c33ed.js"><link rel="prefetch" href="/blog/assets/js/page-分治策略.b95fba01.js"><link rel="prefetch" href="/blog/assets/js/page-动态作用域.fcf09a44.js"><link rel="prefetch" href="/blog/assets/js/page-动态规划.c8f88eba.js"><link rel="prefetch" href="/blog/assets/js/page-原型.54ae321b.js"><link rel="prefetch" href="/blog/assets/js/page-原生函数.f1ea447a.js"><link rel="prefetch" href="/blog/assets/js/page-回溯算法.bd870dda.js"><link rel="prefetch" href="/blog/assets/js/page-回调.2d555855.js"><link rel="prefetch" href="/blog/assets/js/page-声明提升.3831ffea.js"><link rel="prefetch" href="/blog/assets/js/page-委托.f8d0b6b3.js"><link rel="prefetch" href="/blog/assets/js/page-对象.74f83dfe.js"><link rel="prefetch" href="/blog/assets/js/page-对象的内容.773f8165.js"><link rel="prefetch" href="/blog/assets/js/page-异步流控制.b56c7d29.js"><link rel="prefetch" href="/blog/assets/js/page-异步：现在与将来.cb47e3f0.js"><link rel="prefetch" href="/blog/assets/js/page-强制类型转换.4fbd80f4.js"><link rel="prefetch" href="/blog/assets/js/page-思维导图.8e5da4af.js"><link rel="prefetch" href="/blog/assets/js/page-性能测试与调优.04a760b8.js"><link rel="prefetch" href="/blog/assets/js/page-投资问题.d691bc22.js"><link rel="prefetch" href="/blog/assets/js/page-新增API.02f56b0c.js"><link rel="prefetch" href="/blog/assets/js/page-最优装载问题.6434aab3.js"><link rel="prefetch" href="/blog/assets/js/page-最小延迟调度.5d1b4ac9.js"><link rel="prefetch" href="/blog/assets/js/page-最长公共子序列.73117490.js"><link rel="prefetch" href="/blog/assets/js/page-浏览器原理.f49da45e.js"><link rel="prefetch" href="/blog/assets/js/page-深入JavaScript.568f1cab.js"><link rel="prefetch" href="/blog/assets/js/page-深入“你不知道的JavaScript系列”.cb96c127.js"><link rel="prefetch" href="/blog/assets/js/page-深入编程.d91d7051.js"><link rel="prefetch" href="/blog/assets/js/page-混合环境JavaScript.466b0a8e.js"><link rel="prefetch" href="/blog/assets/js/page-程序性能.652ce070.js"><link rel="prefetch" href="/blog/assets/js/page-算法的研究内容.5d64100b.js"><link rel="prefetch" href="/blog/assets/js/page-类型.b35094c5.js"><link rel="prefetch" href="/blog/assets/js/page-类设计模式与JavaScript对象机制.c5183924.js"><link rel="prefetch" href="/blog/assets/js/page-网址收藏.a25ad96e.js"><link rel="prefetch" href="/blog/assets/js/page-背包问题.5cd38670.js"><link rel="prefetch" href="/blog/assets/js/page-词法作用域.d794d6c6.js"><link rel="prefetch" href="/blog/assets/js/page-语法.aef3dbc3.js"><link rel="prefetch" href="/blog/assets/js/page-贪心算法.eb7a2dbe.js"><link rel="prefetch" href="/blog/assets/js/page-进程.4e5c473f.js"><link rel="prefetch" href="/blog/assets/js/page-选择问题.bfc5e025.js"><link rel="prefetch" href="/blog/assets/js/page-集合.4e946d75.js"><link rel="prefetch" href="/blog/assets/js/page-高级异步模式.2ff24d8b.js"><link rel="prefetch" href="/blog/assets/js/vendors~flowchart.bf3a6b81.js"><link rel="prefetch" href="/blog/assets/js/vendors~photo-swipe.e03d03b4.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.03982947.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-sidebar has-anchor"><header class="navbar"><!----> <div class="content__navbar-start"></div> <button title="Sidebar Button" class="sidebar-button"><span class="icon"></span></button> <a href="/blog/" class="home-link router-link-active"><!----> <!----> <span class="site-name can-hide">yams</span></a> <!----> <div class="content__navbar-center"></div> <div class="links"><button aria-hidden="true" class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">Theme Color:</label> <li><span class="default-theme"></span></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">Theme Mode:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title"><!---->
        YDKJS笔记
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/blog/YDKJS笔记（上卷）/1-1 作用域与编译器.html" class="nav-link"><!---->
  上卷
</a></li><li class="dropdown-item"><a href="/blog/YDKJS笔记（中卷）/1-1 类型.html" class="nav-link"><!---->
  中卷
</a></li><li class="dropdown-item"><a href="/blog/YDKJS笔记（下卷）/1-1 深入编程.html" class="nav-link"><!---->
  下卷
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title"><!---->
        计算机基础
      </span> <span class="arrow"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/blog/计算机基础/操作系统/进程.html" class="nav-link"><!---->
  操作系统
</a></li><li class="dropdown-item"><a href="/blog/计算机基础/编译原理/词法分析.html" class="nav-link"><!---->
  编译原理
</a></li><li class="dropdown-item"><a href="/blog/计算机基础/计算机图形学/渲染管道.html" class="nav-link"><!---->
  计算机图形学
</a></li><li class="dropdown-item"><a href="/blog/计算机基础/汇编语言/x86.html" class="nav-link"><!---->
  汇编语言
</a></li><li class="dropdown-item"><a href="/blog/计算机基础/计算机体系结构/寄存器.html" class="nav-link"><!---->
  计算机体系结构
</a></li><li class="dropdown-item"><a href="/blog/计算机基础/计算机网络/" class="nav-link"><!---->
  计算机网络
</a></li></ul></div></div><div class="nav-item"><a href="/blog/algorithm/相关概念.html" class="nav-link"><!---->
  经典算法
</a></div><div class="nav-item"><a href="/blog/杂谈/网址收藏.html" class="nav-link"><!---->
  杂谈
</a></div><div class="nav-item"><a href="https://github.com/melogra" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></nav> <!----> <!----> <!----> <div class="content__navbar-end"></div></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!----> <!----> <div class="content__sidebar-top"></div> <nav class="sidebar-nav-links"><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="Language Menu" class="dropdown-title"><span class="title"><!---->
      YDKJS笔记
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/YDKJS笔记（上卷）/1-1 作用域与编译器.html" class="nav-link"><!---->
  上卷
</a></li><li class="dropdown-item"><!----> <a href="/blog/YDKJS笔记（中卷）/1-1 类型.html" class="nav-link"><!---->
  中卷
</a></li><li class="dropdown-item"><!----> <a href="/blog/YDKJS笔记（下卷）/1-1 深入编程.html" class="nav-link"><!---->
  下卷
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><span class="title"><!---->
      计算机基础
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/计算机基础/操作系统/进程.html" class="nav-link"><!---->
  操作系统
</a></li><li class="dropdown-item"><!----> <a href="/blog/计算机基础/编译原理/词法分析.html" class="nav-link"><!---->
  编译原理
</a></li><li class="dropdown-item"><!----> <a href="/blog/计算机基础/计算机图形学/渲染管道.html" class="nav-link"><!---->
  计算机图形学
</a></li><li class="dropdown-item"><!----> <a href="/blog/计算机基础/汇编语言/x86.html" class="nav-link"><!---->
  汇编语言
</a></li><li class="dropdown-item"><!----> <a href="/blog/计算机基础/计算机体系结构/寄存器.html" class="nav-link"><!---->
  计算机体系结构
</a></li><li class="dropdown-item"><!----> <a href="/blog/计算机基础/计算机网络/" class="nav-link"><!---->
  计算机网络
</a></li></ul></div></div><div class="nav-item"><a href="/blog/algorithm/相关概念.html" class="nav-link"><!---->
  经典算法
</a></div><div class="nav-item"><a href="/blog/杂谈/网址收藏.html" class="nav-link"><!---->
  杂谈
</a></div><div class="nav-item"><a href="https://github.com/melogra" target="_blank" rel="noopener noreferrer" class="nav-link external"><!---->
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <!----> <div class="content__sidebar-center"></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><!----> <span class="title">你不知道的JS笔记（中卷）</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-1%20%E7%B1%BB%E5%9E%8B/" class="sidebar-link">1-1 类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-1%20%E7%B1%BB%E5%9E%8B/#理解类型的作用" class="sidebar-link">理解类型的作用</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-1%20%E7%B1%BB%E5%9E%8B/#内置类型和typeof操作" class="sidebar-link">内置类型和`typeof`操作</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-1%20%E7%B1%BB%E5%9E%8B/#值和类型" class="sidebar-link">值和类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-1%20%E7%B1%BB%E5%9E%8B/#undefined-和-undeclared" class="sidebar-link heading3">undefined 和 undeclared</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-1%20%E7%B1%BB%E5%9E%8B/#typeof的安全防范机制" class="sidebar-link heading3">typeof的安全防范机制</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-1%20%E7%B1%BB%E5%9E%8B/#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-2%20%E5%80%BC/" class="sidebar-link">1-2 值</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-2%20%E5%80%BC/#数组" class="sidebar-link">数组</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-2%20%E5%80%BC/#类数组" class="sidebar-link heading3">类数组</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-2%20%E5%80%BC/#字符串" class="sidebar-link">字符串</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-2%20%E5%80%BC/#数字" class="sidebar-link">数字</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-2%20%E5%80%BC/#数字的语法" class="sidebar-link heading3">数字的语法</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-2%20%E5%80%BC/#较小的数值" class="sidebar-link heading3">较小的数值</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-2%20%E5%80%BC/#整数的安全范围" class="sidebar-link heading3">整数的安全范围</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-2%20%E5%80%BC/#整数检测" class="sidebar-link heading3">整数检测</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-2%20%E5%80%BC/#特殊数值" class="sidebar-link">特殊数值</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-2%20%E5%80%BC/#undefined与null" class="sidebar-link heading3">undefined与null</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-2%20%E5%80%BC/#全局标识符undefined" class="sidebar-link heading3">全局标识符undefined</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-2%20%E5%80%BC/#特殊的数字" class="sidebar-link heading3">特殊的数字</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-2%20%E5%80%BC/#特殊等式" class="sidebar-link heading3">特殊等式</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-2%20%E5%80%BC/#值和引用" class="sidebar-link">值和引用</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-2%20%E5%80%BC/#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-3%20%E5%8E%9F%E7%94%9F%E5%87%BD%E6%95%B0/" class="sidebar-link">1-3 原生函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-3%20%E5%8E%9F%E7%94%9F%E5%87%BD%E6%95%B0/#内部属性-class" class="sidebar-link">内部属性[[class]]</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-3%20%E5%8E%9F%E7%94%9F%E5%87%BD%E6%95%B0/#包装对象-boxing-与拆封-unboxing" class="sidebar-link">包装对象（boxing）与拆封（unboxing）</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-3%20%E5%8E%9F%E7%94%9F%E5%87%BD%E6%95%B0/#原生函数作为构造函数" class="sidebar-link">原生函数作为构造函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-3%20%E5%8E%9F%E7%94%9F%E5%87%BD%E6%95%B0/#array" class="sidebar-link heading3">Array</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-3%20%E5%8E%9F%E7%94%9F%E5%87%BD%E6%95%B0/#object、function、regexp" class="sidebar-link heading3">Object、Function、RegExp</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-3%20%E5%8E%9F%E7%94%9F%E5%87%BD%E6%95%B0/#date、error" class="sidebar-link heading3">Date、Error</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-3%20%E5%8E%9F%E7%94%9F%E5%87%BD%E6%95%B0/#symbol" class="sidebar-link heading3">Symbol</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-3%20%E5%8E%9F%E7%94%9F%E5%87%BD%E6%95%B0/#原生函数的prototype属性" class="sidebar-link heading3">原生函数的prototype属性</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-3%20%E5%8E%9F%E7%94%9F%E5%87%BD%E6%95%B0/#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-4%20%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/" class="sidebar-link">1-4 强制类型转换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-4%20%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#值类型转换" class="sidebar-link">值类型转换</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-4%20%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#字符串、数字和布尔值之间的类型转换规则" class="sidebar-link">字符串、数字和布尔值之间的类型转换规则</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-4%20%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#tostring" class="sidebar-link heading3">ToString</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-4%20%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#tonumber" class="sidebar-link heading3">ToNumber</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-4%20%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#toboolean" class="sidebar-link heading3">ToBoolean</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-4%20%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#json-字符串化" class="sidebar-link heading3">JSON 字符串化</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-4%20%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#显式强制类型转换" class="sidebar-link">显式强制类型转换</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-4%20%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#string-与-number-的显式转换" class="sidebar-link heading3">String 与 Number 的显式转换</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-4%20%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#显式转换为布尔值" class="sidebar-link heading3">显式转换为布尔值</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-4%20%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#隐式强制类型转换" class="sidebar-link">隐式强制类型转换</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-4%20%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#宽松相等-和严格相等" class="sidebar-link">宽松相等（==）和严格相等（===）</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-4%20%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-5%20%E8%AF%AD%E6%B3%95/" class="sidebar-link">1-5 语法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-5%20%E8%AF%AD%E6%B3%95/#语句与表达式" class="sidebar-link">语句与表达式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-5%20%E8%AF%AD%E6%B3%95/#语句的结果值" class="sidebar-link heading3">语句的结果值</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-5%20%E8%AF%AD%E6%B3%95/#表达式的副作用" class="sidebar-link heading3">表达式的副作用</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-5%20%E8%AF%AD%E6%B3%95/#上下文规则" class="sidebar-link heading3">上下文规则</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-5%20%E8%AF%AD%E6%B3%95/#运算符优先级" class="sidebar-link">运算符优先级</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-5%20%E8%AF%AD%E6%B3%95/#自动分号" class="sidebar-link">自动分号</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-5%20%E8%AF%AD%E6%B3%95/#错误" class="sidebar-link">错误</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-5%20%E8%AF%AD%E6%B3%95/#函数参数" class="sidebar-link">函数参数</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-5%20%E8%AF%AD%E6%B3%95/#try-catch" class="sidebar-link">try / catch</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-5%20%E8%AF%AD%E6%B3%95/#switch" class="sidebar-link">switch</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/1-5%20%E8%AF%AD%E6%B3%95/#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-1%20%E5%BC%82%E6%AD%A5/" class="sidebar-link">2-1 异步</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-1%20%E5%BC%82%E6%AD%A5/#分块的程序" class="sidebar-link">分块的程序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-1%20%E5%BC%82%E6%AD%A5/#异步的-console" class="sidebar-link heading3">异步的 console.*</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-1%20%E5%BC%82%E6%AD%A5/#事件循环" class="sidebar-link">事件循环</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-1%20%E5%BC%82%E6%AD%A5/#异步与并行" class="sidebar-link">异步与并行</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-1%20%E5%BC%82%E6%AD%A5/#完整运行-特性" class="sidebar-link heading3">“完整运行”特性</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-1%20%E5%BC%82%E6%AD%A5/#并发任务间的关系" class="sidebar-link">并发任务间的关系</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-1%20%E5%BC%82%E6%AD%A5/#时间循环与promise" class="sidebar-link">时间循环与Promise</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-1%20%E5%BC%82%E6%AD%A5/#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-2%20%E5%9B%9E%E8%B0%83/" class="sidebar-link">2-2 回调</a></li><li><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/" class="sidebar-link">2-3 Promise</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#promise两要素" class="sidebar-link">promise两要素</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#承诺" class="sidebar-link heading3">承诺</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#承诺结果" class="sidebar-link heading3">承诺结果</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#判断是不是promise" class="sidebar-link">判断是不是Promise</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#promise的信任" class="sidebar-link">Promise的信任</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#promise-resolve" class="sidebar-link heading3">Promise.resolve</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#术语-pending-resolve-fullfill-reject" class="sidebar-link">术语：pending &amp; resolve，fullfill &amp; reject</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#链式调用" class="sidebar-link">链式调用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#链式调用的错误处理" class="sidebar-link heading3">链式调用的错误处理</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#错误处理" class="sidebar-link">错误处理</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#promise异步模式" class="sidebar-link">promise异步模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#promise-all" class="sidebar-link heading3">Promise.all([...])</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#promise-race" class="sidebar-link heading3">Promise.race([...])</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#一些其他的api" class="sidebar-link heading3">一些其他的API</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#promise-局限性" class="sidebar-link">Promise 局限性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#错误处理-2" class="sidebar-link heading3">错误处理</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#只能fullfill或reject单个值" class="sidebar-link heading3">只能fullfill或reject单个值</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#只能resolve一次" class="sidebar-link heading3">只能resolve一次</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#把回调重构成promise" class="sidebar-link heading3">把回调重构成promise</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#无法取消的promise" class="sidebar-link heading3">无法取消的promise</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-3%20Promise/#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/" aria-current="page" class="active sidebar-link">2-4 生成器</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#生成器的基本特点" class="sidebar-link">生成器的基本特点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#输入和输出" class="sidebar-link heading3">输入和输出</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#双向消息传递" class="sidebar-link heading3">双向消息传递</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#多个迭代器" class="sidebar-link heading3">多个迭代器</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#用生成器产生值" class="sidebar-link">用生成器产生值</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#什么是迭代器" class="sidebar-link heading3">什么是迭代器</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#iterable可迭代的" class="sidebar-link heading3">iterable可迭代的</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#生成器与迭代器" class="sidebar-link heading3">生成器与迭代器</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#生成器重构回调例子" class="sidebar-link">生成器重构回调例子</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#生成器-promise" class="sidebar-link">生成器 + promise</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#生成器委托" class="sidebar-link">生成器委托</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#形实转换程序" class="sidebar-link">形实转换程序</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#es6之前的生成器" class="sidebar-link">ES6之前的生成器</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-5%20%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/" class="sidebar-link">2-5 程序性能</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-5%20%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#web-worker" class="sidebar-link">Web Worker</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-5%20%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#worker环境" class="sidebar-link heading3">worker环境</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-5%20%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#数据传递" class="sidebar-link heading3">数据传递</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-5%20%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#共享worker" class="sidebar-link heading3">共享worker</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-5%20%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#模拟web-worker" class="sidebar-link heading3">模拟web worker</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-5%20%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#simd" class="sidebar-link">SIMD</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-5%20%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#asm-js" class="sidebar-link">asm.js</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-5%20%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-6%20%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E4%B8%8E%E8%B0%83%E4%BC%98/" class="sidebar-link">2-6 性能测试与调优</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-6%20%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E4%B8%8E%E8%B0%83%E4%BC%98/#如何进行性能测试" class="sidebar-link">如何进行性能测试</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-6%20%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E4%B8%8E%E8%B0%83%E4%BC%98/#benchmark-js" class="sidebar-link heading3">Benchmark.js</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-6%20%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E4%B8%8E%E8%B0%83%E4%BC%98/#大局" class="sidebar-link">大局</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-6%20%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E4%B8%8E%E8%B0%83%E4%BC%98/#尾调用优化" class="sidebar-link">尾调用优化</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-6%20%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E4%B8%8E%E8%B0%83%E4%BC%98/#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/%E9%99%84%E5%BD%951%20%E6%B7%B7%E5%90%88%E7%8E%AF%E5%A2%83JavaScript/" class="sidebar-link">附录1 混合环境JavaScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/%E9%99%84%E5%BD%951%20%E6%B7%B7%E5%90%88%E7%8E%AF%E5%A2%83JavaScript/#annex-b" class="sidebar-link">Annex B</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/%E9%99%84%E5%BD%951%20%E6%B7%B7%E5%90%88%E7%8E%AF%E5%A2%83JavaScript/#web-ecmascript" class="sidebar-link">Web ECMAScript</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/%E9%99%84%E5%BD%951%20%E6%B7%B7%E5%90%88%E7%8E%AF%E5%A2%83JavaScript/#宿主对象" class="sidebar-link">宿主对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/%E9%99%84%E5%BD%951%20%E6%B7%B7%E5%90%88%E7%8E%AF%E5%A2%83JavaScript/#console-对象" class="sidebar-link heading3">console 对象</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/%E9%99%84%E5%BD%951%20%E6%B7%B7%E5%90%88%E7%8E%AF%E5%A2%83JavaScript/#全局-dom-变量" class="sidebar-link">全局 DOM 变量</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/%E9%99%84%E5%BD%951%20%E6%B7%B7%E5%90%88%E7%8E%AF%E5%A2%83JavaScript/#script" class="sidebar-link">&lt;script&gt;</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/%E9%99%84%E5%BD%951%20%E6%B7%B7%E5%90%88%E7%8E%AF%E5%A2%83JavaScript/#保留字" class="sidebar-link">保留字</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/%E9%99%84%E5%BD%951%20%E6%B7%B7%E5%90%88%E7%8E%AF%E5%A2%83JavaScript/#实现中的限制" class="sidebar-link">实现中的限制</a></li><li class="sidebar-sub-header"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/%E9%99%84%E5%BD%951%20%E6%B7%B7%E5%90%88%E7%8E%AF%E5%A2%83JavaScript/#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/%E9%99%84%E5%BD%952%20asynquence%20%E5%BA%93/" class="sidebar-link">附录2 asynquence 库</a></li><li><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/%E9%99%84%E5%BD%953%20%E9%AB%98%E7%BA%A7%E5%BC%82%E6%AD%A5%E6%A8%A1%E5%BC%8F/" class="sidebar-link">附录3 高级异步模式</a></li></ul></section></li></ul> <!----> <div class="content__sidebar-bottom"></div> <!----></aside> <main class="page"><nav class="breadcrumb disable"><!----></nav> <!----> <div class="content__page-top"></div> <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">生成器</span></h1> <div class="page-info"><!----> <!----><!----><span aria-label="Writing Date📅" data-balloon-pos="down" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2021-4-12</span></span><!----><!----><span aria-label="Reading Time⌛" data-balloon-pos="down" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>About 8 min</span> <meta property="timeRequired" content="PT8M"></span></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#生成器的基本特点" class="anchor-link heading2"><div>生成器的基本特点</div></a></li><li class="anchor"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#输入和输出" class="anchor-link heading3"><div>输入和输出</div></a></li><li class="anchor"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#双向消息传递" class="anchor-link heading3"><div>双向消息传递</div></a></li><li class="anchor"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#多个迭代器" class="anchor-link heading3"><div>多个迭代器</div></a></li><li class="anchor"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#用生成器产生值" class="anchor-link heading2"><div>用生成器产生值</div></a></li><li class="anchor"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#什么是迭代器" class="anchor-link heading3"><div>什么是迭代器</div></a></li><li class="anchor"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#iterable可迭代的" class="anchor-link heading3"><div>iterable可迭代的</div></a></li><li class="anchor"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#生成器与迭代器" class="anchor-link heading3"><div>生成器与迭代器</div></a></li><li class="anchor"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#生成器重构回调例子" class="anchor-link heading2"><div>生成器重构回调例子</div></a></li><li class="anchor"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#生成器-promise" class="anchor-link heading2"><div>生成器 + promise</div></a></li><li class="anchor"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#生成器委托" class="anchor-link heading2"><div>生成器委托</div></a></li><li class="anchor"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#形实转换程序" class="anchor-link heading2"><div>形实转换程序</div></a></li><li class="anchor"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#es6之前的生成器" class="anchor-link heading2"><div>ES6之前的生成器</div></a></li><li class="anchor"><a href="/blog/YDKJS%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%AD%E5%8D%B7%EF%BC%89/2-4%20%E7%94%9F%E6%88%90%E5%99%A8/#小结" class="anchor-link heading2"><div>小结</div></a></li></ul></div></aside></div> <!----> <div class="content__content-top"></div> <div class="theme-default-content content__default"><h1 id="生成器"><a href="#生成器" class="header-anchor">#</a> 生成器</h1> <p>第 2 章，我们确定了用回调表达异步控制流程的两个关键缺陷：</p> <ul><li><p>基于回调的异步不符合大脑对任务步骤的规划方式</p></li> <li><p>由于控制反转，回调并不是可信任或可组合的。</p></li></ul> <p>第 3 章，我们详细介绍了 Promise 如何把回调的控制反转反转回来，恢复了可信任性 / 可组合性。</p> <p>第 4 章我们介绍一种顺序、看似同步的异步流程控制表达风格——生成器。</p> <h2 id="生成器的基本特点"><a href="#生成器的基本特点" class="header-anchor">#</a> 生成器的基本特点</h2> <h3 id="输入和输出"><a href="#输入和输出" class="header-anchor">#</a> 输入和输出</h3> <p>生成器函数是一个特殊的函数，它除了有函数的基本特性，比如接受参数和输出返回值，还可以<strong>中断函数的运行</strong>。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> z <span class="token operator">=</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
  <span class="token keyword">yield</span> z<span class="token punctuation">;</span>
  <span class="token keyword">return</span> z <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> it <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// 3</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// 6</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="双向消息传递"><a href="#双向消息传递" class="header-anchor">#</a> 双向消息传递</h3> <p>生成器通过 <code>yield</code> 和 <code>next函数</code> 实现双向数据传递。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">x</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> y <span class="token operator">=</span> x <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token keyword">yield</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> it <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span> <span class="token number">6</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> res <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 启动生成器时一定要用不带参数的next</span>
res<span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// hello，对应foo函数的yield &quot;Hello&quot;，从生成器传递至迭代器。</span>
res <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span> <span class="token number">7</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 从迭代器传递至生成器中yield的位置</span>
res<span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// 42</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>我们并没有向第一个 next() 调用发送值，这是有意为之。<strong>只有暂停的 yield 才能接受这样一个通过 next 传递的值</strong>，而在生成器的起始处我们调用第一个 next() 时，还没有暂停的 yield 来接受这样一个值。规范和所有兼容浏览器都会默默<strong>丢弃</strong>传递给第一个 next() 的任何东西。因此，<strong>启动生成器时一定要用不带参数的 next()</strong>。</p> <p>也许你会发现，next函数通常比yield多一个，事实上他们是一一对应的。<strong>next &lt;=&gt; yield + return</strong>。</p> <h3 id="多个迭代器"><a href="#多个迭代器" class="header-anchor">#</a> 多个迭代器</h3> <p>每次构建一个迭代器，实际上就隐式构建了生成器的一个实例，通过这个迭代器来控制的是这个生成器实例。</p> <p>同一个生成器的多个实例可以同时运行，它们甚至可以彼此交互或交替执行。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span>
    z<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token punctuation">(</span>x <span class="token operator">*</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> z <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> it1 <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> it2 <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> val1 <span class="token operator">=</span> it1<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// 2 &lt;-- yield 2</span>
<span class="token keyword">var</span> val2 <span class="token operator">=</span> it2<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// 2 &lt;-- yield 2</span>
val1 <span class="token operator">=</span> it1<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span> val2 <span class="token operator">*</span> <span class="token number">10</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// 40   &lt;-- x:20,  z:2</span>
val2 <span class="token operator">=</span> it2<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span> val1 <span class="token operator">*</span> <span class="token number">5</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// 600  &lt;-- x:200, z:3</span>
it1<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span> val2 <span class="token operator">/</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// y:300 // 20 300 3</span>
it2<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span> val1 <span class="token operator">/</span> <span class="token number">4</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// y:10 // 200 10 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="用生成器产生值"><a href="#用生成器产生值" class="header-anchor">#</a> 用生成器产生值</h2> <p>“生成器”这个名称最初的使用场景就是作为一种产生值的方式。但是在介绍生成器如何产生值之前，我们先介绍下什么是迭代器。</p> <h3 id="什么是迭代器"><a href="#什么是迭代器" class="header-anchor">#</a> 什么是迭代器</h3> <p>假定你要产生一系列值，其中每个值都与前面一个有特定的关系。要实现这一点，需要一个有状态的生产者记住其生成的最后一个值。</p> <p>我们可以用闭包实现：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> genNum <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> nextVal<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> nextVal <span class="token operator">=</span> nextVal <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> nextVal <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">genNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 10</span>
<span class="token function">genNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 20</span>
<span class="token function">genNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 40</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>用标准的迭代器接口实现：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> genNum <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> nextVal<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>Iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 标准迭代器接口方法</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			nextVal <span class="token operator">=</span> nextVal <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span> nextVal <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> done<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> value<span class="token operator">:</span> nextVal <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
genNum<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token comment">// 10</span>
genNum<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token comment">// 20</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>另外，ES6 还新增了一个 for-of 循环，for-of 循环在每次迭代中自动调用迭代器的 next()，它不会向 next() 传入任何值，并且会在接收到 done:true 之后自动停止。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> v <span class="token keyword">of</span> genNum<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> v <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">&gt;</span> <span class="token number">500</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="iterable可迭代的"><a href="#iterable可迭代的" class="header-anchor">#</a> iterable可迭代的</h3> <p>实现了<code>Symbol.iterator</code>函数的对象是可迭代的（iterable），迭代器包含next函数，next 调用返回一个对象。这个对象有两个属性:done 是一个 boolean 值，标识迭代器的完成状态；value 中放置迭代值。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// iterable</span>
    <span class="token keyword">var</span> val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token comment">// 返回迭代器对象</span>
      <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          done<span class="token operator">:</span> val <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">,</span>
          value<span class="token operator">:</span> val<span class="token operator">++</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> v <span class="token keyword">of</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 2 3 4 5</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>for-of 循环自动调用它的 Symbol.iterator 函数来构建一个迭代器。我们当然也可以手工调用这个函数，然后使用它返回的迭代器。</p> <p>for-of 循环在每次迭代中自动调用 next()，它不会向 next() 传入任何值，并且会在接收到 done:true 之后自动停止。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> it <span class="token operator">=</span> arr<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="生成器与迭代器"><a href="#生成器与迭代器" class="header-anchor">#</a> 生成器与迭代器</h3> <p>严格说来，生成器本身并不是 iterable，尽管非常类似。当你执行一个生成器，就得到了一个迭代器。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> val<span class="token punctuation">;</span>
  <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 生成器会在每次迭代中暂停，通过 yield 返回到主程序或事件循环队列中。</span>
    val <span class="token operator">=</span> val <span class="token operator">?</span> val <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> val<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> iterator <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 执行生成器，得到迭代器</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> v <span class="token keyword">of</span> iterator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 2 3 4 5</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li>注意foo是生成器，并不是 iterable。我们需要调用 foo() 来构造一个生产者供 for-of 循环迭代。</li> <li>foo() 调用产生一个迭代器，但 for-of 循环需要的是一个 iterable。所以生成器的迭代器也有一个 Symbol.iterator 函数，基本上这个函数做的就是 return this。换句话说，生成器的迭代器也是一个 iterable 。</li></ul> <h4 id="停止生成器-it-return"><a href="#停止生成器-it-return" class="header-anchor">#</a> 停止生成器 it.return()</h4> <p>在前面的例子中，看起来似乎 *foo() 生成器的迭代器实例在循环break之后就永远留在了挂起状态。</p> <p>其实有一个隐藏的特性会帮助你管理此事。for-of 循环的“异常结束”(也就是“提前终止”)，通常由<strong>break、return 或者未捕获异常</strong>引起，会向生成器的迭代器发送一个信号使其终止。<em>严格地说，在循环正常结束之后，for-of 循环也会向迭代器发送这个信号。</em></p> <p>尽管 for-of 循环会自动发送这个信号，但你可能会希望向一个迭代器手工发送这个信号。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> it <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> v <span class="token keyword">of</span> it<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>v <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 调用 it.return() 之后，它会立即终止生成器，并把返回的value设置为传入return()的内容</span>
    it<span class="token punctuation">.</span><span class="token function">return</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// { done: true, value: 'hello'}</span>
    <span class="token comment">// 不需要break</span>
  <span class="token punctuation">}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 2 3 4 5 6</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="抛出错误-it-throw"><a href="#抛出错误-it-throw" class="header-anchor">#</a> 抛出错误 it.throw()</h4> <p>迭代器主动抛出错误，不常用。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
   	<span class="token keyword">yield</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">yield</span> <span class="token number">2</span><span class="token punctuation">;</span> 
  <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 'oops'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> it <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// 1</span>
it<span class="token punctuation">.</span><span class="token function">throw</span><span class="token punctuation">(</span><span class="token string">'oops'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="生成器重构回调例子"><a href="#生成器重构回调例子" class="header-anchor">#</a> 生成器重构回调例子</h2> <p>先来看下回调的例子：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span>cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">ajax</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> cb<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">foo</span><span class="token punctuation">(</span> <span class="token string">'http://xx.com'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span>text</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> err <span class="token operator">?</span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">:</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>生成器例子：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">ajax</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 向*main()抛出一个错误 或 用收到的data恢复*main()</span>
    err <span class="token operator">?</span> it<span class="token punctuation">.</span><span class="token function">throw</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">:</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
  	<span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token string">'http://xx.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> it <span class="token operator">=</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h2 id="生成器-promise"><a href="#生成器-promise" class="header-anchor">#</a> 生成器 + promise</h2> <p>同样地，先来回顾下之前promise的例子：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'http://xx.com'</span><span class="token punctuation">)</span>
	<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
  	<span class="token parameter">data</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span>
  	<span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>生成器 + promise版本：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
  	<span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token keyword">yield</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'http://xx.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> it <span class="token operator">=</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> promise <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
	<span class="token parameter">data</span> <span class="token operator">=&gt;</span>	it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token parameter">err</span> <span class="token operator">=&gt;</span> it<span class="token punctuation">.</span><span class="token function">throw</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>针对上面生成器 + promise版本的例子，可见我们需要每次小心地控制迭代器的运行，这不太方便且容易出错。</p> <p>书中给了一个自动控制生成器执行的例子，这里仅供参考，因为在ES7中已经提供了标准化的<code>async / await</code>解决方法。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token parameter">gen</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> arguments<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> it<span class="token punctuation">;</span>
  <span class="token comment">// 在当前上下文中初始化生成器</span>
  it <span class="token operator">=</span> <span class="token function">gen</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> args <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 返回一个promise用于生成器完成</span>
  <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span> <span class="token keyword">function</span> <span class="token function">handleNext</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// 对下一个yield出的值运行</span>
            <span class="token keyword">var</span> next <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">handleResult</span><span class="token punctuation">(</span><span class="token parameter">next</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">// 生成器运行完毕了吗?</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token punctuation">.</span>done<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> next<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span> next<span class="token punctuation">.</span>value <span class="token punctuation">)</span>
                   <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>
                    	<span class="token comment">// 成功就恢复异步循环，把决议的值发回生成器 handleNext,</span>
                    	<span class="token comment">// 如果value是被拒绝的 promise，就把错误传回生成器进行出错处理</span>
                   		<span class="token keyword">function</span> <span class="token function">handleErr</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">throw</span><span class="token punctuation">(</span> err <span class="token punctuation">)</span><span class="token punctuation">)</span>
                          <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span> handleResult <span class="token punctuation">)</span><span class="token punctuation">;</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token operator">*</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ..</span>
<span class="token punctuation">}</span>
<span class="token function">run</span><span class="token punctuation">(</span> main <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>Async / await 版本：</p> <p>如果你 await 了一个 Promise，async 函数就会自动获知要做什么，它会暂停这个函数(就像生成器一样)，直到 Promise 决议。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'http://xx.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="生成器委托"><a href="#生成器委托" class="header-anchor">#</a> 生成器委托</h2> <h2 id="形实转换程序"><a href="#形实转换程序" class="header-anchor">#</a> 形实转换程序</h2> <p><a href="http://www.ruanyifeng.com/blog/2015/05/thunk.html" target="_blank" rel="noopener noreferrer">thunk函数<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="es6之前的生成器"><a href="#es6之前的生成器" class="header-anchor">#</a> ES6之前的生成器</h2> <h2 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h2> <p>生成器是 ES6 的一个新的函数类型，它并不像普通函数那样总是运行到结束。取而代之的是，生成器可以在运行当中(完全保持其状态)暂停，并且将来再从暂停的地方恢复运行。</p> <p>这种交替的暂停和恢复是合作性的而不是抢占式的，这意味着生成器具有独一无二的能力来暂停自身，这是通过关键字 yield 实现的。不过，只有控制生成器的迭代器具有恢复生成器的能力(通过 next)。</p> <p>yield/next这一对不只是一种控制机制，实际上也是一种双向消息传递机制。yield 表达式本质上是暂停下来等待某个值，接下来的 next 调用会向被暂停的 yield 表达式传回一个值(或者是隐式的 undefined)。</p> <p>在异步控制流程方面，生成器的关键优点是:生成器内部的代码是以自然的同步 / 顺序方式表达任务的一系列步骤。其技巧在于，我们把可能的异步隐藏在了关键字 yield 的后面， 把异步移动到控制生成器的迭代器的代码部分。</p> <p>换句话说，生成器为异步代码保持了顺序、同步、阻塞的代码模式，这使得大脑可以更自然地追踪代码，解决了基于回调的异步的两个关键缺陷之一。</p></div> <!----> <div class="content__content-bottom"></div> <footer class="page-meta"><!----> <div class="meta-item update-time"><span class="label">Last update:</span> <span class="info">April 21, 2021 23:32</span></div> <!----></footer> <!----> <!----> <!----> <div class="content__page-bottom"></div></main> <!----></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">This app can be installed on your PC or mobile device.  This will allow this web app to look and behave like any other installed app.  You will find it in your app lists and be able to pin it to your home screen, start menus or task bars.  This installed web app will also be able to safely interact with other apps and your operating system. </p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>Description</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        Install <span></span></button> <button class="cancel-button">
        Cancel
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button class="pswp__button pswp__button--close"></button> <button class="pswp__button pswp__button--share"></button> <button class="pswp__button pswp__button--fs"></button> <button class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button class="pswp__button pswp__button--arrow--left"></button> <button class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/blog/assets/js/app.79f116af.js" defer></script><script src="/blog/assets/js/vendors~layout-Layout.8c2cbbba.js" defer></script><script src="/blog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.1c0cc028.js" defer></script><script src="/blog/assets/js/page-生成器.a732c841.js" defer></script><script src="/blog/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.abaae08c.js" defer></script>
  </body>
</html>
